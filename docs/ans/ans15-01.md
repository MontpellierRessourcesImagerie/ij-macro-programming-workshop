[Previous](./ans14-05.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     [Exercise](../ex/ex15-01.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Next](./ans16-01.md)

# Exercise 15.1 - Measure objects on all images in a folder

Aim: 
- learn how to apply a threshold and use the particle analyzer in a batch macro.

Complete the macro below and run it on the images in the folder 15. 

Useful commands:
- ``run("Set Measurements...", options)``		sets the features and options that will be measured
- ``setAutoThreshold(..)``						sets the threshold using an auto-threshold method, use the macro recorder to find the options
- ``run("Analyze Particles...", options);``		runs the particle analyzer with the given options
	- use the macro-recorder to find the options
	- the outlines of the nuclei should be written to an overlay of the image and the objects should be measured							 	
- ``saveAs("Results", file-path);``				saves a result table to a tab-separated  text file

Your code starts after this line 
```java
run("Set Measurements...", "area mean standard modal min centroid center perimeter bounding fit shape feret's integrated median skewness kurtosis area_fraction display add redirect=None decimal=3");
path = getDirectory("Input directory");			// Ask the user for the input directory
print("\\Clear");
print("batch measure nuclei started");
setBatchMode(true);
files = getFileList(path);						// get an array containing the names of all files in the directory path
File.mkdir(path + "out");						// create the output directory
for(i=0; i<files.length; i++) {					// iterate over all files
	image = files[i];							// get the name of the current file
	print("\\Update1: processing file " + (i+1) +"/" + files.length);
	if (indexOf(image, ".tif") != -1) {			// if the current file is a an image...
		open(path + image);
		setAutoThreshold("Default dark");
		run("Analyze Particles...", "size=400-Infinity show=[Overlay Outlines] display exclude in_situ");
		save(path + "out/" + image);
		close();
	}
}
saveAs("Results", path + "out/" + "Results.xls");
```
<pre>
> batch measure nuclei started
>  processing file 3/3
</pre>
<table>
<tr><th>Label</th><th>Area</th><th>Mean</th><th>StdDev</th><th>Mode</th><th>Min</th><th>Max</th><th>X</th><th>Y</th><th>XM</th><th>YM</th><th>Perim.</th><th>BX</th><th>BY</th><th>Width</th><th>Height</th><th>Major</th><th>Minor</th><th>Angle</th><th>Circ.</th><th>Feret</th><th>IntDen</th><th>Median</th><th>Skew</th><th>Kurt</th><th>%Area</th><th>RawIntDen</th><th>FeretX</th><th>FeretY</th><th>FeretAngle</th><th>MinFeret</th><th>AR</th><th>Round</th><th>Solidity</th></tr>
<tr><td>A4 dapi 1.tif</td><td>6101</td><td>126.281</td><td>25.558</td><td>116</td><td>72</td><td>222</td><td>198.157</td><td>86.649</td><td>199.334</td><td>86.776</td><td>353.061</td><td>130</td><td>50</td><td>130</td><td>79</td><td>140.209</td><td>55.403</td><td>157.466</td><td>0.615</td><td>137.786</td><td>770438.000</td><td>125</td><td>0.293</td><td>-0.056</td><td>100</td><td>770438.000</td><td>130</td><td>60</td><td>158.276</td><td>56.149</td><td>2.531</td><td>0.395</td><td>0.957</td></tr>
<tr><td>A4 dapi 1.tif</td><td>7047</td><td>149.474</td><td>31.401</td><td>157</td><td>72</td><td>239</td><td>428.766</td><td>113.529</td><td>428.097</td><td>113.457</td><td>329.120</td><td>371</td><td>72</td><td>111</td><td>85</td><td>115.781</td><td>77.495</td><td>158.420</td><td>0.818</td><td>115.953</td><td>1053342.000</td><td>151</td><td>-0.192</td><td>-0.373</td><td>100</td><td>1053342.000</td><td>373</td><td>92</td><td>156.088</td><td>78.673</td><td>1.494</td><td>0.669</td><td>0.973</td></tr>
<tr><td>A4 dapi 1.tif</td><td>5455</td><td>126.024</td><td>26.887</td><td>135</td><td>72</td><td>235</td><td>199.684</td><td>160.958</td><td>200.437</td><td>161.086</td><td>292.392</td><td>149</td><td>124</td><td>103</td><td>71</td><td>103.920</td><td>66.835</td><td>163.869</td><td>0.802</td><td>104.393</td><td>687460.000</td><td>126</td><td>0.316</td><td>0.017</td><td>100</td><td>687460.000</td><td>149</td><td>153</td><td>170.628</td><td>68.839</td><td>1.555</td><td>0.643</td><td>0.964</td></tr>
<tr><td>A4 dapi 1.tif</td><td>7524</td><td>145.870</td><td>32.919</td><td>150</td><td>72</td><td>246</td><td>353.094</td><td>213.299</td><td>353.440</td><td>212.639</td><td>328.191</td><td>305</td><td>161</td><td>93</td><td>104</td><td>104.252</td><td>91.891</td><td>108.347</td><td>0.878</td><td>105.537</td><td>1097527.000</td><td>146</td><td>0.097</td><td>-0.503</td><td>100</td><td>1097527.000</td><td>345</td><td>161</td><td>102.588</td><td>93.000</td><td>1.135</td><td>0.881</td><td>0.980</td></tr>
<tr><td>A4 dapi 1.tif</td><td>5653</td><td>135.360</td><td>23.931</td><td>145</td><td>72</td><td>198</td><td>64.660</td><td>237.526</td><td>65.251</td><td>237.117</td><td>300.978</td><td>11</td><td>203</td><td>111</td><td>69</td><td>111.809</td><td>64.374</td><td>168.139</td><td>0.784</td><td>112.792</td><td>765189.000</td><td>138</td><td>-0.410</td><td>-0.139</td><td>100</td><td>765189.000</td><td>12</td><td>222</td><td>165.101</td><td>64.828</td><td>1.737</td><td>0.576</td><td>0.971</td></tr>
<tr><td>A4 dapi 1.tif</td><td>6178</td><td>132.127</td><td>25.064</td><td>132</td><td>72</td><td>211</td><td>552.543</td><td>305.316</td><td>551.895</td><td>304.745</td><td>304.392</td><td>513</td><td>253</td><td>78</td><td>105</td><td>105.948</td><td>74.245</td><td>102.152</td><td>0.838</td><td>107.280</td><td>816280.000</td><td>133</td><td>-0.047</td><td>-0.373</td><td>100</td><td>816280.000</td><td>540</td><td>253</td><td>101.834</td><td>74.458</td><td>1.427</td><td>0.701</td><td>0.974</td></tr>
<tr><td>A4 dapi 1.tif</td><td>4583</td><td>137.211</td><td>31.462</td><td>130</td><td>72</td><td>224</td><td>267.902</td><td>300.119</td><td>267.431</td><td>299.934</td><td>296.392</td><td>213</td><td>272</td><td>107</td><td>59</td><td>108.172</td><td>53.944</td><td>174.863</td><td>0.656</td><td>109.385</td><td>628839.000</td><td>137</td><td>0.024</td><td>-0.706</td><td>100</td><td>628839.000</td><td>214</td><td>283</td><td>165.710</td><td>58.621</td><td>2.005</td><td>0.499</td><td>0.903</td></tr>
<tr><td>A4 dapi 1.tif</td><td>7312</td><td>167.040</td><td>36.387</td><td>167</td><td>72</td><td>255</td><td>360.969</td><td>365.884</td><td>360.809</td><td>365.959</td><td>333.120</td><td>301</td><td>325</td><td>115</td><td>82</td><td>115.715</td><td>80.455</td><td>175.946</td><td>0.828</td><td>115.624</td><td>1221399.000</td><td>169</td><td>-0.336</td><td>-0.164</td><td>100</td><td>1221399.000</td><td>301</td><td>362</td><td>174.043</td><td>80.706</td><td>1.438</td><td>0.695</td><td>0.978</td></tr>
<tr><td>A4 dapi 1.tif</td><td>6820</td><td>123.350</td><td>25.957</td><td>126</td><td>72</td><td>210</td><td>497.701</td><td>459.070</td><td>499.656</td><td>459.478</td><td>343.345</td><td>451</td><td>403</td><td>98</td><td>109</td><td>119.930</td><td>72.404</td><td>128.003</td><td>0.727</td><td>121.083</td><td>841245.000</td><td>123</td><td>0.056</td><td>-0.814</td><td>100</td><td>841245.000</td><td>462</td><td>409</td><td>131.987</td><td>72.529</td><td>1.656</td><td>0.604</td><td>0.957</td></tr>
<tr><td>nuclei.tif</td><td>4656</td><td>60.545</td><td>12.363</td><td>54</td><td>41</td><td>108</td><td>563.192</td><td>106.911</td><td>562.066</td><td>106.638</td><td>298.434</td><td>513</td><td>78</td><td>100</td><td>59</td><td>100.902</td><td>58.752</td><td>179.535</td><td>0.657</td><td>100.499</td><td>281898.000</td><td>59</td><td>0.901</td><td>0.918</td><td>100</td><td>281898.000</td><td>513</td><td>108</td><td>5.711</td><td>59.000</td><td>1.717</td><td>0.582</td><td>0.955</td></tr>
<tr><td>nuclei.tif</td><td>4970</td><td>50.532</td><td>7.206</td><td>41</td><td>41</td><td>81</td><td>1203.534</td><td>134.471</td><td>1203.957</td><td>134.112</td><td>440.784</td><td>1152</td><td>96</td><td>107</td><td>76</td><td>109.552</td><td>57.763</td><td>156.440</td><td>0.321</td><td>115.836</td><td>251142.000</td><td>49</td><td>0.969</td><td>0.934</td><td>100</td><td>251142.000</td><td>1153</td><td>109</td><td>152.771</td><td>64.374</td><td>1.897</td><td>0.527</td><td>0.861</td></tr>
<tr><td>nuclei.tif</td><td>7532</td><td>74.958</td><td>14.249</td><td>80</td><td>41</td><td>125</td><td>93.937</td><td>139.042</td><td>93.866</td><td>138.133</td><td>342.090</td><td>34</td><td>98</td><td>119</td><td>81</td><td>118.247</td><td>81.101</td><td>3.262</td><td>0.809</td><td>119.340</td><td>564586.000</td><td>75</td><td>-0.044</td><td>-0.006</td><td>100</td><td>564586.000</td><td>34</td><td>136</td><td>4.325</td><td>81.000</td><td>1.458</td><td>0.686</td><td>0.976</td></tr>
<tr><td>nuclei.tif</td><td>4775</td><td>61.405</td><td>11.439</td><td>62</td><td>41</td><td>99</td><td>783.236</td><td>152.087</td><td>783.864</td><td>152.005</td><td>285.563</td><td>733</td><td>121</td><td>102</td><td>63</td><td>100.565</td><td>60.456</td><td>6.408</td><td>0.736</td><td>102.313</td><td>293207.000</td><td>61</td><td>0.453</td><td>-0.278</td><td>100</td><td>293207.000</td><td>733</td><td>155</td><td>4.485</td><td>60.957</td><td>1.663</td><td>0.601</td><td>0.962</td></tr>
<tr><td>nuclei.tif</td><td>4833</td><td>51.526</td><td>8.226</td><td>43</td><td>41</td><td>92</td><td>337.884</td><td>180.997</td><td>338.395</td><td>181.737</td><td>366.316</td><td>300</td><td>131</td><td>74</td><td>100</td><td>91.094</td><td>67.552</td><td>92.418</td><td>0.453</td><td>100.404</td><td>249025.000</td><td>50</td><td>0.892</td><td>0.632</td><td>100</td><td>249025.000</td><td>336</td><td>131</td><td>95.143</td><td>74.000</td><td>1.349</td><td>0.742</td><td>0.845</td></tr>
<tr><td>nuclei.tif</td><td>6251</td><td>100.673</td><td>26.719</td><td>100</td><td>41</td><td>197</td><td>608.970</td><td>222.146</td><td>608.832</td><td>223.448</td><td>309.605</td><td>560</td><td>177</td><td>98</td><td>89</td><td>110.489</td><td>72.034</td><td>143.792</td><td>0.819</td><td>111.212</td><td>629307.000</td><td>101</td><td>0.248</td><td>0.567</td><td>100</td><td>629307.000</td><td>566</td><td>188</td><td>142.306</td><td>71.800</td><td>1.534</td><td>0.652</td><td>0.977</td></tr>
<tr><td>nuclei.tif</td><td>5011</td><td>53.429</td><td>7.981</td><td>51</td><td>41</td><td>84</td><td>1025.585</td><td>209.996</td><td>1025.890</td><td>209.275</td><td>411.730</td><td>968</td><td>179</td><td>118</td><td>62</td><td>113.066</td><td>56.429</td><td>4.474</td><td>0.371</td><td>118.106</td><td>267735.000</td><td>53</td><td>0.506</td><td>-0.253</td><td>100</td><td>267735.000</td><td>968</td><td>213</td><td>2.426</td><td>62.000</td><td>2.004</td><td>0.499</td><td>0.883</td></tr>
<tr><td>nuclei.tif</td><td>3849</td><td>72.979</td><td>20.022</td><td>72</td><td>41</td><td>157</td><td>151.210</td><td>266.861</td><td>151.426</td><td>268.349</td><td>235.522</td><td>116</td><td>231</td><td>70</td><td>71</td><td>72.461</td><td>67.632</td><td>53.765</td><td>0.872</td><td>74.404</td><td>280898.000</td><td>70</td><td>0.863</td><td>0.702</td><td>100</td><td>280898.000</td><td>119</td><td>286</td><td>36.254</td><td>68.333</td><td>1.071</td><td>0.933</td><td>0.970</td></tr>
<tr><td>nuclei.tif</td><td>6454</td><td>87.154</td><td>19.968</td><td>80</td><td>41</td><td>145</td><td>822.875</td><td>297.016</td><td>823.828</td><td>297.424</td><td>313.706</td><td>768</td><td>259</td><td>109</td><td>79</td><td>109.872</td><td>74.792</td><td>168.158</td><td>0.824</td><td>110.476</td><td>562492.000</td><td>87</td><td>0.051</td><td>-0.357</td><td>100</td><td>562492.000</td><td>768</td><td>289</td><td>170.623</td><td>75.671</td><td>1.469</td><td>0.681</td><td>0.976</td></tr>
<tr><td>nuclei.tif</td><td>3188</td><td>178.801</td><td>64.793</td><td>255</td><td>41</td><td>255</td><td>271.804</td><td>296.490</td><td>271.796</td><td>295.760</td><td>218.108</td><td>233</td><td>269</td><td>76</td><td>57</td><td>73.426</td><td>55.282</td><td>172.696</td><td>0.842</td><td>76.655</td><td>570016.000</td><td>201</td><td>-0.727</td><td>-0.727</td><td>100</td><td>570016.000</td><td>233</td><td>290</td><td>172.504</td><td>57.000</td><td>1.328</td><td>0.753</td><td>0.970</td></tr>
<tr><td>nuclei.tif</td><td>6234</td><td>97.971</td><td>24.771</td><td>108</td><td>41</td><td>177</td><td>447.669</td><td>369.441</td><td>448.157</td><td>371.505</td><td>308.978</td><td>412</td><td>314</td><td>72</td><td>113</td><td>112.254</td><td>70.709</td><td>93.223</td><td>0.821</td><td>113.635</td><td>610752.000</td><td>100</td><td>-0.113</td><td>-0.287</td><td>100</td><td>610752.000</td><td>439</td><td>314</td><td>96.062</td><td>71.675</td><td>1.588</td><td>0.630</td><td>0.977</td></tr>
<tr><td>nuclei.tif</td><td>4345</td><td>69.556</td><td>16.028</td><td>76</td><td>41</td><td>123</td><td>632.013</td><td>349.023</td><td>633.947</td><td>349.268</td><td>268.534</td><td>588</td><td>316</td><td>91</td><td>64</td><td>91.816</td><td>60.253</td><td>163.991</td><td>0.757</td><td>94.921</td><td>302221.000</td><td>69</td><td>0.389</td><td>-0.380</td><td>100</td><td>302221.000</td><td>590</td><td>331</td><td>159.656</td><td>63.791</td><td>1.524</td><td>0.656</td><td>0.964</td></tr>
<tr><td>nuclei.tif</td><td>6693</td><td>90.934</td><td>18.041</td><td>91</td><td>41</td><td>161</td><td>1115.890</td><td>362.511</td><td>1115.702</td><td>362.864</td><td>314.291</td><td>1063</td><td>318</td><td>104</td><td>88</td><td>109.863</td><td>77.567</td><td>150.404</td><td>0.851</td><td>111.893</td><td>608620.000</td><td>91</td><td>0.004</td><td>0.799</td><td>100</td><td>608620.000</td><td>1064</td><td>343</td><td>155.726</td><td>78.733</td><td>1.416</td><td>0.706</td><td>0.977</td></tr>
<tr><td>nuclei.tif</td><td>3859</td><td>66.796</td><td>13.888</td><td>68</td><td>41</td><td>108</td><td>71.580</td><td>364.611</td><td>73.106</td><td>365.096</td><td>283.948</td><td>30</td><td>329</td><td>78</td><td>70</td><td>76.945</td><td>63.856</td><td>142.933</td><td>0.601</td><td>81.025</td><td>257765.000</td><td>67</td><td>0.058</td><td>-0.561</td><td>100</td><td>257765.000</td><td>37</td><td>343</td><td>144.545</td><td>67.566</td><td>1.205</td><td>0.830</td><td>0.923</td></tr>
<tr><td>nuclei.tif</td><td>4952</td><td>61.094</td><td>10.969</td><td>62</td><td>41</td><td>112</td><td>825.917</td><td>442.540</td><td>826.619</td><td>441.891</td><td>288.877</td><td>791</td><td>394</td><td>68</td><td>94</td><td>92.494</td><td>68.167</td><td>82.875</td><td>0.746</td><td>94.895</td><td>302539.000</td><td>60</td><td>0.674</td><td>0.716</td><td>100</td><td>302539.000</td><td>817</td><td>488</td><td>82.126</td><td>68.000</td><td>1.357</td><td>0.737</td><td>0.963</td></tr>
<tr><td>nuclei.tif</td><td>3580</td><td>82.802</td><td>23.573</td><td>64</td><td>41</td><td>143</td><td>1080.880</td><td>425.351</td><td>1080.841</td><td>426.152</td><td>252.936</td><td>1037</td><td>399</td><td>89</td><td>54</td><td>91.567</td><td>49.780</td><td>168.472</td><td>0.703</td><td>90.521</td><td>296430.000</td><td>81</td><td>0.247</td><td>-0.803</td><td>100</td><td>296430.000</td><td>1037</td><td>411</td><td>163.968</td><td>49.135</td><td>1.839</td><td>0.544</td><td>0.960</td></tr>
<tr><td>nuclei.tif</td><td>4221</td><td>70.782</td><td>18.245</td><td>51</td><td>41</td><td>132</td><td>608.141</td><td>453.411</td><td>609.522</td><td>453.896</td><td>278.877</td><td>561</td><td>423</td><td>92</td><td>61</td><td>91.914</td><td>58.471</td><td>179.562</td><td>0.682</td><td>92.779</td><td>298770.000</td><td>70</td><td>0.267</td><td>-0.804</td><td>100</td><td>298770.000</td><td>561</td><td>450</td><td>172.569</td><td>59.566</td><td>1.572</td><td>0.636</td><td>0.956</td></tr>
<tr><td>nuclei.tif</td><td>4503</td><td>64.725</td><td>14.720</td><td>60</td><td>41</td><td>116</td><td>224.243</td><td>484.957</td><td>223.192</td><td>484.824</td><td>272.877</td><td>186</td><td>444</td><td>77</td><td>82</td><td>88.652</td><td>64.673</td><td>128.819</td><td>0.760</td><td>90.802</td><td>291456.000</td><td>63</td><td>0.556</td><td>-0.292</td><td>100</td><td>291456.000</td><td>200</td><td>448</td><td>126.491</td><td>65.732</td><td>1.371</td><td>0.730</td><td>0.963</td></tr>
<tr><td>nuclei.tif</td><td>3988</td><td>72.207</td><td>22.197</td><td>51</td><td>41</td><td>138</td><td>956.706</td><td>510.815</td><td>957.509</td><td>507.859</td><td>261.907</td><td>924</td><td>468</td><td>66</td><td>90</td><td>90.192</td><td>56.299</td><td>72.631</td><td>0.731</td><td>92.655</td><td>287961.000</td><td>66</td><td>0.702</td><td>-0.548</td><td>100</td><td>287961.000</td><td>951</td><td>558</td><td>71.761</td><td>59.746</td><td>1.602</td><td>0.624</td><td>0.937</td></tr>
<tr><td>nuclei.tif</td><td>3160</td><td>92.747</td><td>28.132</td><td>108</td><td>41</td><td>171</td><td>521.876</td><td>517.710</td><td>524.533</td><td>518.359</td><td>251.664</td><td>484</td><td>487</td><td>72</td><td>64</td><td>78.271</td><td>51.404</td><td>144.076</td><td>0.627</td><td>82.662</td><td>293080.000</td><td>95</td><td>-0.008</td><td>-0.880</td><td>100</td><td>293080.000</td><td>487</td><td>491</td><td>145.349</td><td>54.113</td><td>1.523</td><td>0.657</td><td>0.919</td></tr>
<tr><td>nuclei.tif</td><td>3608</td><td>82.563</td><td>25.420</td><td>57</td><td>41</td><td>167</td><td>654.826</td><td>546.803</td><td>656.221</td><td>547.158</td><td>237.664</td><td>615</td><td>515</td><td>80</td><td>62</td><td>79.561</td><td>57.740</td><td>163.285</td><td>0.803</td><td>82.710</td><td>297887.000</td><td>80</td><td>0.427</td><td>-0.597</td><td>100</td><td>297887.000</td><td>615</td><td>542</td><td>165.292</td><td>59.032</td><td>1.378</td><td>0.726</td><td>0.961</td></tr>
<tr><td>nuclei.tif</td><td>2899</td><td>96.265</td><td>25.517</td><td>112</td><td>41</td><td>163</td><td>806.357</td><td>564.048</td><td>807.052</td><td>563.937</td><td>205.279</td><td>778</td><td>529</td><td>57</td><td>69</td><td>68.987</td><td>53.505</td><td>111.055</td><td>0.865</td><td>70.576</td><td>279072.000</td><td>99</td><td>-0.289</td><td>-0.568</td><td>100</td><td>279072.000</td><td>795</td><td>530</td><td>110.746</td><td>54.951</td><td>1.289</td><td>0.776</td><td>0.967</td></tr>
<tr><td>nuclei.tif</td><td>3231</td><td>82.468</td><td>23.015</td><td>92</td><td>41</td><td>138</td><td>1112.278</td><td>564.207</td><td>1111.254</td><td>564.081</td><td>231.907</td><td>1075</td><td>529</td><td>73</td><td>67</td><td>81.664</td><td>50.375</td><td>38.165</td><td>0.755</td><td>83.217</td><td>266455.000</td><td>82</td><td>0.176</td><td>-0.738</td><td>100</td><td>266455.000</td><td>1076</td><td>586</td><td>32.735</td><td>50.758</td><td>1.621</td><td>0.617</td><td>0.954</td></tr>
<tr><td>nuclei.tif</td><td>3902</td><td>74.753</td><td>17.624</td><td>74</td><td>41</td><td>145</td><td>575.921</td><td>621.152</td><td>575.602</td><td>620.027</td><td>264.049</td><td>535</td><td>582</td><td>82</td><td>80</td><td>96.687</td><td>51.384</td><td>139.653</td><td>0.703</td><td>99.358</td><td>291686.000</td><td>73</td><td>0.387</td><td>-0.167</td><td>100</td><td>291686.000</td><td>547</td><td>584</td><td>130.101</td><td>54.922</td><td>1.882</td><td>0.531</td><td>0.944</td></tr>
<tr><td>nuclei.tif</td><td>4132</td><td>69.429</td><td>14.281</td><td>72</td><td>41</td><td>121</td><td>473.660</td><td>639.632</td><td>474.657</td><td>639.937</td><td>248.936</td><td>431</td><td>608</td><td>81</td><td>65</td><td>81.868</td><td>64.262</td><td>162.837</td><td>0.838</td><td>83.726</td><td>286881.000</td><td>69</td><td>0.317</td><td>-0.143</td><td>100</td><td>286881.000</td><td>436</td><td>622</td><td>150.680</td><td>64.994</td><td>1.274</td><td>0.785</td><td>0.971</td></tr>
<tr><td>nuclei.tif</td><td>4622</td><td>56.698</td><td>11.250</td><td>51</td><td>41</td><td>97</td><td>703.887</td><td>654.118</td><td>703.850</td><td>654.137</td><td>355.931</td><td>650</td><td>617</td><td>106</td><td>70</td><td>105.047</td><td>56.022</td><td>163.066</td><td>0.458</td><td>110.164</td><td>262058.000</td><td>54</td><td>0.896</td><td>0.398</td><td>100</td><td>262058.000</td><td>650</td><td>641</td><td>164.197</td><td>59.479</td><td>1.875</td><td>0.533</td><td>0.879</td></tr>
<tr><td>nuclei.tif</td><td>6132</td><td>87.950</td><td>20.205</td><td>89</td><td>41</td><td>151</td><td>206.769</td><td>671.964</td><td>207.496</td><td>672.254</td><td>314.090</td><td>155</td><td>630</td><td>103</td><td>85</td><td>111.691</td><td>69.903</td><td>146.088</td><td>0.781</td><td>112.379</td><td>539311.000</td><td>89</td><td>-0.119</td><td>-0.118</td><td>100</td><td>539311.000</td><td>158</td><td>644</td><td>150.698</td><td>71.684</td><td>1.598</td><td>0.626</td><td>0.968</td></tr>
<tr><td>nuclei.tif</td><td>4144</td><td>61.584</td><td>10.329</td><td>60</td><td>41</td><td>93</td><td>868.132</td><td>768.739</td><td>868.806</td><td>768.903</td><td>267.463</td><td>825</td><td>731</td><td>90</td><td>71</td><td>96.260</td><td>54.813</td><td>151.659</td><td>0.728</td><td>95.000</td><td>255205.000</td><td>61</td><td>0.175</td><td>-0.435</td><td>100</td><td>255205.000</td><td>835</td><td>737</td><td>143.130</td><td>56.140</td><td>1.756</td><td>0.569</td><td>0.955</td></tr>
<tr><td>nuclei.tif</td><td>4287</td><td>54.693</td><td>8.618</td><td>54</td><td>41</td><td>91</td><td>1175.657</td><td>774.702</td><td>1176.274</td><td>775.718</td><td>270.534</td><td>1132</td><td>741</td><td>85</td><td>69</td><td>83.466</td><td>65.397</td><td>161.462</td><td>0.736</td><td>86.608</td><td>234471.000</td><td>54</td><td>1.123</td><td>1.849</td><td>100</td><td>234471.000</td><td>1139</td><td>751</td><td>148.696</td><td>67.529</td><td>1.276</td><td>0.784</td><td>0.938</td></tr>
<tr><td>nuclei.tif</td><td>4485</td><td>55.628</td><td>10.563</td><td>48</td><td>41</td><td>106</td><td>473.298</td><td>788.017</td><td>473.738</td><td>788.238</td><td>318.860</td><td>435</td><td>743</td><td>75</td><td>93</td><td>101.381</td><td>56.327</td><td>122.505</td><td>0.554</td><td>103.465</td><td>249492.000</td><td>54</td><td>0.993</td><td>0.763</td><td>100</td><td>249492.000</td><td>443</td><td>747</td><td>122.768</td><td>58.059</td><td>1.800</td><td>0.556</td><td>0.934</td></tr>
<tr><td>nuclei.tif</td><td>4005</td><td>70.459</td><td>14.819</td><td>70</td><td>41</td><td>114</td><td>648.668</td><td>795.914</td><td>649.423</td><td>797.291</td><td>260.735</td><td>610</td><td>756</td><td>77</td><td>77</td><td>89.135</td><td>57.209</td><td>139.386</td><td>0.740</td><td>92.849</td><td>282188.000</td><td>70</td><td>0.109</td><td>-0.673</td><td>100</td><td>282188.000</td><td>617</td><td>759</td><td>131.070</td><td>58.762</td><td>1.558</td><td>0.642</td><td>0.948</td></tr>
<tr><td>nuclei.tif</td><td>5464</td><td>73.885</td><td>14.853</td><td>65</td><td>41</td><td>127</td><td>79.575</td><td>806.024</td><td>80.857</td><td>805.305</td><td>279.078</td><td>39</td><td>761</td><td>79</td><td>91</td><td>89.464</td><td>77.763</td><td>91.851</td><td>0.882</td><td>91.351</td><td>403708.000</td><td>73</td><td>0.393</td><td>0.205</td><td>100</td><td>403708.000</td><td>77</td><td>852</td><td>84.976</td><td>78.433</td><td>1.150</td><td>0.869</td><td>0.974</td></tr>
<tr><td>nuclei.tif</td><td>3484</td><td>144.319</td><td>49.608</td><td>180</td><td>41</td><td>240</td><td>317.780</td><td>811.305</td><td>318.089</td><td>811.476</td><td>227.622</td><td>286</td><td>772</td><td>62</td><td>74</td><td>72.268</td><td>61.382</td><td>80.431</td><td>0.845</td><td>74.793</td><td>502807.000</td><td>152</td><td>-0.421</td><td>-0.795</td><td>100</td><td>502807.000</td><td>293</td><td>839</td><td>60.350</td><td>62.000</td><td>1.177</td><td>0.849</td><td>0.966</td></tr>
<tr><td>nuclei.tif</td><td>5205</td><td>60.035</td><td>10.537</td><td>64</td><td>41</td><td>98</td><td>209.712</td><td>840.461</td><td>208.941</td><td>840.475</td><td>368.316</td><td>174</td><td>791</td><td>70</td><td>98</td><td>98.199</td><td>67.488</td><td>103.616</td><td>0.482</td><td>99.464</td><td>312480.000</td><td>60</td><td>0.291</td><td>-0.314</td><td>100</td><td>312480.000</td><td>201</td><td>792</td><td>102.779</td><td>69.541</td><td>1.455</td><td>0.687</td><td>0.946</td></tr>
<tr><td>nuclei.tif</td><td>5110</td><td>66.321</td><td>15.954</td><td>54</td><td>41</td><td>124</td><td>414.876</td><td>880.721</td><td>415.240</td><td>880.828</td><td>310.676</td><td>379</td><td>831</td><td>73</td><td>97</td><td>96.277</td><td>67.579</td><td>107.220</td><td>0.665</td><td>99.690</td><td>338902.000</td><td>63</td><td>0.498</td><td>-0.594</td><td>100</td><td>338902.000</td><td>403</td><td>831</td><td>103.339</td><td>67.797</td><td>1.425</td><td>0.702</td><td>0.952</td></tr>
<tr><td>nuclei.tif</td><td>4174</td><td>55.214</td><td>7.921</td><td>56</td><td>41</td><td>79</td><td>870.033</td><td>900.969</td><td>870.499</td><td>901.293</td><td>271.848</td><td>832</td><td>860</td><td>73</td><td>85</td><td>90.173</td><td>58.937</td><td>124.413</td><td>0.710</td><td>90.918</td><td>230463.000</td><td>55</td><td>0.320</td><td>-0.521</td><td>100</td><td>230463.000</td><td>849</td><td>863</td><td>119.667</td><td>60.201</td><td>1.530</td><td>0.654</td><td>0.952</td></tr>
<tr><td>nuclei.tif</td><td>5001</td><td>80.999</td><td>19.041</td><td>86</td><td>41</td><td>137</td><td>1094.049</td><td>925.169</td><td>1095.130</td><td>926.610</td><td>281.848</td><td>1053</td><td>882</td><td>84</td><td>86</td><td>97.168</td><td>65.531</td><td>135.264</td><td>0.791</td><td>97.801</td><td>405078.000</td><td>81</td><td>0.185</td><td>-0.148</td><td>100</td><td>405078.000</td><td>1065</td><td>885</td><td>127.104</td><td>65.054</td><td>1.483</td><td>0.674</td><td>0.972</td></tr>
<tr><td>nuclei.tif</td><td>3865</td><td>57.345</td><td>9.737</td><td>57</td><td>41</td><td>91</td><td>159.798</td><td>955.438</td><td>160.242</td><td>955.378</td><td>252.877</td><td>122</td><td>919</td><td>75</td><td>71</td><td>75.349</td><td>65.310</td><td>148.961</td><td>0.760</td><td>78.772</td><td>221640.000</td><td>56</td><td>0.651</td><td>0.102</td><td>100</td><td>221640.000</td><td>123</td><td>939</td><td>159.955</td><td>67.882</td><td>1.154</td><td>0.867</td><td>0.947</td></tr>
<tr><td>nuclei.tif</td><td>3863</td><td>54.925</td><td>10.578</td><td>48</td><td>41</td><td>102</td><td>942.878</td><td>972.056</td><td>942.554</td><td>970.288</td><td>335.446</td><td>907</td><td>923</td><td>73</td><td>103</td><td>113.635</td><td>43.284</td><td>62.089</td><td>0.431</td><td>113.877</td><td>212176.000</td><td>53</td><td>1.111</td><td>1.177</td><td>100</td><td>212176.000</td><td>917</td><td>1024</td><td>59.381</td><td>46.448</td><td>2.625</td><td>0.381</td><td>0.863</td></tr>
<tr><td>nuclei.tif</td><td>3957</td><td>83.242</td><td>25.977</td><td>62</td><td>41</td><td>161</td><td>516.635</td><td>977.698</td><td>517.225</td><td>978.815</td><td>247.421</td><td>481</td><td>940</td><td>71</td><td>74</td><td>76.776</td><td>65.623</td><td>47.568</td><td>0.812</td><td>79.025</td><td>329389.000</td><td>79</td><td>0.339</td><td>-0.833</td><td>100</td><td>329389.000</td><td>488</td><td>1005</td><td>38.320</td><td>66.923</td><td>1.170</td><td>0.855</td><td>0.961</td></tr>
<tr><td>two-nuclei.tif</td><td>5880</td><td>128.126</td><td>24.153</td><td>116</td><td>83</td><td>222</td><td>323.421</td><td>92.891</td><td>324.519</td><td>92.926</td><td>356.233</td><td>256</td><td>57</td><td>128</td><td>78</td><td>138.939</td><td>53.884</td><td>157.267</td><td>0.582</td><td>136.356</td><td>753378.000</td><td>127</td><td>0.450</td><td>-0.001</td><td>100</td><td>753378.000</td><td>256</td><td>67</td><td>159.837</td><td>54.883</td><td>2.578</td><td>0.388</td><td>0.948</td></tr>
<tr><td>two-nuclei.tif</td><td>7378</td><td>147.230</td><td>31.775</td><td>150</td><td>83</td><td>246</td><td>327.123</td><td>257.133</td><td>327.459</td><td>256.544</td><td>333.990</td><td>279</td><td>205</td><td>93</td><td>104</td><td>103.090</td><td>91.124</td><td>109.339</td><td>0.831</td><td>104.938</td><td>1086261.000</td><td>147</td><td>0.183</td><td>-0.548</td><td>100</td><td>1086261.000</td><td>319</td><td>205</td><td>97.667</td><td>92.856</td><td>1.131</td><td>0.884</td><td>0.973</td></tr>
</table>

Your code ends before this line 
```java
run("Close");
print("batch measure nuclei finished");

```
<pre>
> batch measure nuclei finished
</pre>
The code below is for automatically checking the result. Please ignore it! 
```java
ok = (nImages==0);
ok = (ok && File.exists(path+"/out"));
files = getFileList(path+"/out");
ok = (ok && files.length==4);
if (ok)
	showMessage("That's right. Great, you did it!");
else 
	showMessage("Your result is wrong! Please check your macro and try again!");
```
[Previous](./ans14-05.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     [Exercise](../ex/ex15-01.md) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Next](./ans16-01.md)
